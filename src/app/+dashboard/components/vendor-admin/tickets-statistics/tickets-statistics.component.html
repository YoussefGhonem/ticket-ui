<div class="card">
    <div class="card-header align-items-center " [formGroup]="form">
        <div class="border-0 align-items-center d-flex">
            <h4 class="card-title mb-0 flex-grow-1">Tickets </h4>

            <div class="d-flex gap-1">

                <button title="Weekly" (click)="onFrequencyChange(frequencyEnum.Week)" type="button"
                    class="btn btn-soft-success btn-sm">
                    W
                </button>
                <button title="Monthly" (click)="onFrequencyChange(frequencyEnum.Month)" type="button"
                    class="btn btn-soft-success btn-sm">
                    M
                </button>
                <button title="Quarter" (click)="onFrequencyChange(frequencyEnum.Quarter)" type="button"
                    class="btn btn-soft-success btn-sm">
                    Q
                </button>
                <div class="select-dropdown">
                    <select formControlName="year">
                        <option selected hidden [value]="null">Y</option>
                        <option *ngFor="let item of years" value="{{item}}">{{item}}</option>
                    </select>
                </div>
            </div>
        </div><br>
        <div class="dropdown card-header-dropdown" ngbDropdown>
            <ng-select (keyup)="onTicketSearch($event)" [items]="events" bindLabel="name" bindValue="id"
                formControlName="eventId" placeholder="All Events">
                <ng-template ng-option-tmp let-item="item" let-index="index">
                    <b>{{item.name}}</b>
                </ng-template>
            </ng-select>
        </div>
    </div>

    <div class="card-body">
        <ng-container *ngIf="status7">
            <apx-chart [ref]="status7" class="apex-charts" dir="ltr" [series]="series" [labels]="status7?.labels"
                [chart]="status7?.chart" [plotOptions]="status7?.plotOptions" [dataLabels]="status7?.dataLabels"
                [legend]="status7?.legend" [stroke]="status7?.stroke" [colors]="status7?.colors"></apx-chart>
        </ng-container>
        <div class="mt-3">
            <div class="d-flex justify-content-center align-items-center mb-4">
                <h2 class="me-3 ff-secondary mb-0">{{totalTickets}}</h2>
                <div>
                    <p class="text-muted mb-0">Total Tickets</p>
                </div>
            </div>

            <div class="d-flex justify-content-between border-bottom border-bottom-dashed py-2">
                <p class="fw-medium mb-0"><i class="ri-checkbox-blank-circle-fill text-success align-middle me-2"></i>
                    Active</p>
                <div>
                    <span class="text-muted pe-5">{{data?.numberOfActive |number}} Tickets</span>
                </div>
            </div><!-- end -->
            <div class="d-flex justify-content-between border-bottom border-bottom-dashed py-2">
                <p class="fw-medium mb-0"><i class="ri-checkbox-blank-circle-fill text-warning align-middle me-2"></i>
                    Scanned</p>
                <div>
                    <span class="text-muted pe-5">{{data?.numberOfScanned}} Tickets</span>
                </div>
            </div><!-- end -->
            <div class="d-flex justify-content-between border-bottom border-bottom-dashed py-2">
                <p class="fw-medium mb-0"><i class="ri-checkbox-blank-circle-fill text-primary align-middle me-2"></i>
                    Expired</p>
                <div>
                    <span class="text-muted pe-5">{{data?.numberOfExpired}} Tickets</span>
                </div>
            </div><!-- end -->
            <div class="d-flex justify-content-between py-2">
                <p class="fw-medium mb-0"><i class="ri-checkbox-blank-circle-fill text-danger align-middle me-2"></i>
                    Cancelled</p>
                <div>
                    <span class="text-muted pe-5">{{data?.numberOfCanceled}} Tickets</span>
                </div>
            </div><!-- end -->
            <div class="d-flex justify-content-between py-1">

            </div><!-- end -->
        </div>
    </div><!-- end cardbody -->
</div><!-- end card -->